/*
A JQuery Tool Tip plugin by Kamaleshwar
*/
var tttext=new function(){function f(e){if(!e.data("condition")())return;var n=e.offset(),r=n.left,i=n.top,s=e.data("offset"),o=e.data("h_centre"),f=e.data("v_centre"),l=e.data("position"),c=e.outerHeight(true),h=e.outerWidth(true);a.html(e.data("message")).append(u.attr("class","point "+l));a.attr("class","");if(e.data("type")!="follow")a.addClass(l);switch(l){case"left":r-=a.outerWidth(true)+s;if(f){var p=c-parseInt(e.css("margin-bottom"));p=p/2-a.outerHeight(true)/2;if(p<0)p*=-1;i+=p}else i+=parseInt(e.css("padding-top"))-parseInt(a.css("padding-top"));break;case"top":i-=a.outerHeight(true)+s;if(o)r+=(h-(parseInt(e.css("margin-left"))+parseInt(e.css("margin-right")))-a.outerWidth(true))/2;else r-=a.outerWidth(true)/2;break;case"right":r+=h-parseInt(e.css("margin-right"))+s;if(f){var p=c-parseInt(e.css("margin-bottom"));p=p/2-a.outerHeight(true)/2;if(p<0)p*=-1;i+=p}else i+=parseInt(e.css("padding-top"))-parseInt(a.css("padding-top"));break;default:var d=e.data("position").split("#");if(d[1]){r=parseInt(d[0])+5;i=parseInt(d[1])+5}else{r=o?r+=h/2-a.outerWidth(true)/2:r;i+=c-parseInt(e.css("margin-bottom"))+s}break}r=r<0?0:r;i=i<0?0:i;a.css("left",r);a.css("top",i);if(e.data("type")=="follow")a.fadeIn(t).addClass("active");else a.stop(true,true).fadeIn(t).addClass("active")}function l(e){var n=e=="follow"?false:true;a.stop(n,n).fadeOut(t).removeClass("active")}var e="hover",t=300,n="bottom",r=0,i=true,s=true,o=function(){return true},u=$('<span class="point"></span>'),a=$('<div id="tooltip"></div>');this.init=function(e){if(!e||!e.container)$("body").append(a);this.setDefaults(e)};this.setDefaults=function(u){if(u){e=u.type||"";n=u.position||n;t=u.duration||t;a=u.container||a;r=u.offset||r;i=u.horizontal_centre||i;s=u.vertical_centre||s;o=u.condition||o}};this.attach=function(u,c){u.data("type",c.type||e);u.data("duration",c.duration||t);u.data("position",c.position||n);u.data("offset",c.offset||r);u.data("condition",c.condition||o);u.data("message",c.message);u.data("h_centre",typeof c.horizontal_centre=="undefined"?i:c.horizontal_centre);u.data("v_centre",typeof c.vertical_centre=="undefined"?s:c.vertical_centre);switch(u.data("type")){case"follow":u.mousemove(function(e){$(this).data("position",e.pageX+"#"+e.pageY);f($(this));return});u.mouseout(function(){l(e="follow");return});break;case"click":u.click(function(){if(a.hasClass("active"))l();else f($(this));return});break;default:u.hover(function(){f($(this));return},function(){l();return});break}return u};this.manual_hide=function(){l()};this.manual_show=function(e){f(e)}}
